{"ast":null,"code":"import React,{useState}from'react';import Navbar from'./components/Navbar';import ImageGrid from'./components/ImageGrid';import ImageModal from'./components/ImageModal';import Pagination from'./components/Pagination';// Import Pagination component\nimport'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[images,setImages]=useState([]);const[selectedImage,setSelectedImage]=useState(null);const[showModal,setShowModal]=useState(false);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);// const pageSize = ;\nconst pageSize=9;const fetchImages=async path=>{try{const res=await fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL).concat(path));let data=await res.json();if(!Array.isArray(data))data=[data];setImages(data);setCurrentPage(1);// Reset to page 1 after new fetch\n}catch(err){console.error('Fetch failed',err);}};const handleSelectImage=img=>{setSelectedImage(img);setShowModal(true);};// Calculate images to display on current page\nconst indexOfLast=currentPage*pageSize;const indexOfFirst=indexOfLast-pageSize;const currentImages=images.slice(indexOfFirst,indexOfLast);const totalPages=Math.ceil(images.length/pageSize);const handlePageChange=page=>{if(page>=1&&page<=totalPages){setCurrentPage(page);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{onFetch:fetchImages}),/*#__PURE__*/_jsx(ImageGrid,{items:currentImages,onSelect:handleSelectImage}),images.length>pageSize&&/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange}),/*#__PURE__*/_jsx(ImageModal,{item:selectedImage,show:showModal,onClose:()=>setShowModal(false)})]});}export default App;","map":{"version":3,"names":["React","useState","Navbar","ImageGrid","ImageModal","Pagination","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","images","setImages","selectedImage","setSelectedImage","showModal","setShowModal","currentPage","setCurrentPage","pageSize","fetchImages","path","res","fetch","concat","process","env","REACT_APP_API_BASE_URL","data","json","Array","isArray","err","console","error","handleSelectImage","img","indexOfLast","indexOfFirst","currentImages","slice","totalPages","Math","ceil","length","handlePageChange","page","children","onFetch","items","onSelect","onPageChange","item","show","onClose"],"sources":["/home/ubuntu/Bounce-nasa-assesment/nasa_frontend_app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Navbar from './components/Navbar';\nimport ImageGrid from './components/ImageGrid';\nimport ImageModal from './components/ImageModal';\nimport Pagination from './components/Pagination';  // Import Pagination component\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  // const pageSize = ;\n  const pageSize = 9;\n\n\n  const fetchImages = async (path) => {\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_BASE_URL}${path}`);\n      let data = await res.json();\n      if (!Array.isArray(data)) data = [data];\n      setImages(data);\n      setCurrentPage(1); // Reset to page 1 after new fetch\n    } catch (err) {\n      console.error('Fetch failed', err);\n    }\n  };\n\n  const handleSelectImage = (img) => {\n    setSelectedImage(img);\n    setShowModal(true);\n  };\n\n  // Calculate images to display on current page\n  const indexOfLast = currentPage * pageSize;\n  const indexOfFirst = indexOfLast - pageSize;\n  const currentImages = images.slice(indexOfFirst, indexOfLast);\n\n  const totalPages = Math.ceil(images.length / pageSize);\n\n  const handlePageChange = (page) => {\n    if (page >= 1 && page <= totalPages) {\n      setCurrentPage(page);\n    }\n  };\n\n  return (\n    <>\n      <Navbar onFetch={fetchImages} />\n      <ImageGrid items={currentImages} onSelect={handleSelectImage} />\n\n      {images.length > pageSize && (\n        <Pagination\n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={handlePageChange}\n        />\n      )}\n\n      <ImageModal item={selectedImage} show={showModal} onClose={() => setShowModal(false)} />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}