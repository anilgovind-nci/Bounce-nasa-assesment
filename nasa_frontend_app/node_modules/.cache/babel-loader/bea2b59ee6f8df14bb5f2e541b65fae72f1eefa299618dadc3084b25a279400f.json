{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(_ref){let{onFetch}=_ref;const[mode,setMode]=useState('today');const[count,setCount]=useState(1);const[startDate,setStartDate]=useState('');const[endDate,setEndDate]=useState('');const isRangeInvalid=mode==='range'&&(!startDate||!endDate||new Date(startDate)>new Date(endDate));const isRandomInvalid=mode==='random'&&count<1;const handleFetch=()=>{if(mode==='today'){onFetch('/api/nasa/apod');}else if(mode==='range'){if(!isRangeInvalid){onFetch(\"/api/nasa/apod?start_date=\".concat(startDate,\"&end_date=\").concat(endDate));}}else if(mode==='random'){if(!isRandomInvalid){onFetch(\"/api/nasa/apod?count=\".concat(count));}}};return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-light border-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"\\uD83C\\uDF0C NASA APOD Viewer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 align-items-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:mode,onChange:e=>setMode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"today\",children:\"Today\"}),/*#__PURE__*/_jsx(\"option\",{value:\"range\",children:\"Date Range\"}),/*#__PURE__*/_jsx(\"option\",{value:\"random\",children:\"Random\"})]})}),mode==='range'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:startDate,onChange:e=>setStartDate(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:endDate,onChange:e=>setEndDate(e.target.value)})}),isRangeInvalid&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-danger\",children:\"Please select a valid date range (start \\u2264 end).\"})]}),mode==='random'&&/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"100\",className:\"form-control\",value:count,onChange:e=>setCount(Math.max(1,parseInt(e.target.value)||1))})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleFetch,className:\"btn btn-primary\",disabled:isRangeInvalid||isRandomInvalid,children:\"Fetch\"})})]})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_ref","onFetch","mode","setMode","count","setCount","startDate","setStartDate","endDate","setEndDate","isRangeInvalid","Date","isRandomInvalid","handleFetch","concat","className","children","value","onChange","e","target","type","min","max","Math","parseInt","onClick","disabled"],"sources":["/home/ubuntu/Bounce-nasa-assesment/nasa_frontend_app/src/components/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\n\nexport default function Navbar({ onFetch }) {\n  const [mode, setMode] = useState('today');\n  const [count, setCount] = useState(1);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n\n  const isRangeInvalid =\n    mode === 'range' &&\n    (!startDate || !endDate || new Date(startDate) > new Date(endDate));\n\n  const isRandomInvalid = mode === 'random' && count < 1;\n\n  const handleFetch = () => {\n    if (mode === 'today') {\n      onFetch('/api/nasa/apod');\n    } else if (mode === 'range') {\n      if (!isRangeInvalid) {\n        onFetch(`/api/nasa/apod?start_date=${startDate}&end_date=${endDate}`);\n      }\n    } else if (mode === 'random') {\n      if (!isRandomInvalid) {\n        onFetch(`/api/nasa/apod?count=${count}`);\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-4 bg-light border-bottom\">\n      <div className=\"container\">\n        <h4 className=\"mb-3\">ðŸŒŒ NASA APOD Viewer</h4>\n        <div className=\"row g-3 align-items-end\">\n          <div className=\"col-auto\">\n            <select className=\"form-select\" value={mode} onChange={(e) => setMode(e.target.value)}>\n              <option value=\"today\">Today</option>\n              <option value=\"range\">Date Range</option>\n              <option value=\"random\">Random</option>\n            </select>\n          </div>\n\n          {mode === 'range' && (\n            <>\n              <div className=\"col-auto\">\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </div>\n              <div className=\"col-auto\">\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                />\n              </div>\n              {isRangeInvalid && (\n                <div className=\"col-12 text-danger\">\n                  Please select a valid date range (start â‰¤ end).\n                </div>\n              )}\n            </>\n          )}\n\n          {mode === 'random' && (\n            <div className=\"col-auto\">\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"100\"\n                className=\"form-control\"\n                value={count}\n                onChange={(e) => setCount(Math.max(1, parseInt(e.target.value) || 1))}\n              />\n            </div>\n          )}\n\n          <div className=\"col-auto\">\n            <button\n              onClick={handleFetch}\n              className=\"btn btn-primary\"\n              disabled={isRangeInvalid || isRandomInvalid}\n            >\n              Fetch\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}